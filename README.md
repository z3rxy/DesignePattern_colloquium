# Шаблон состояния
Шаблон состояния предоставляет объекту простой способ изменять свое поведение при изменении внутреннего состояния.

Пример использования шаблона состояния: когда система может находиться во множестве разных состояний, но должна выполнять один и тот же набор действий.

Поведение системы может отличаться в зависимости от состояния, но система должна обрабатывать все варианты поведения независимо от состояния.

Когда поступают требования к новым состояниям и поведению системы, шаблон состояния помогает следовать принципу OCP.

Ключевые принципы:
Паттерн состояния очень похож на паттерн стратегии. Ключевое различие заключается в намерении.
В случае паттерна стратегии клиент определяет желаемое поведение. В случае шаблона состояния сам объект определяет поведение на основе состояния.
В шаблоне стратегии клиент обладает гибкостью, в шаблоне состояния объект обладает гибкостью.
Все классы состояний, которые инкапсулируют поведение, являются взаимозависимыми. Это единственный недостаток модели состояния.
Классы состояний могут быть абстрактными или интерфейсными, в зависимости от того, нужно ли нам общее поведение между состояниями или нет.
Классы состояний могут совместно использоваться несколькими классами контекста. В этом случае класс состояния не может состоять из объекта контекста.
ПРИМЕЧАНИЕ: Переходы между состояниями могут происходить внутри классов состояний или основного объекта в контексте. Решение о том, где выполнять переходы состояний, может быть непростым!
Внимание: Убедитесь, что точно один класс состояния не обрабатывает более одного состояния. Тогда весь смысл использования шаблона состояния будет недействительным.
Понимание кода
Это имитация реализации автомата для жевательных резинок
Автомат для производства жевательных резинок должен выполнять следующие действия: вставлять четвертак, извлекать четвертак, поворачивать рукоятку и выпускать жевательный шарик
Внутренне автомат для жевательных резинок может находиться в 4 состояниях: с четвертью, без четверти, продан и состояние распродано.
В этом моделировании пробуются все варианты поведения системы в другом состоянии.
Убедитесь в расширяемости сами, добавив новое поведение в автомат для игры в жевательные резинки, например, случайные счастливчики, заправка и т.д.
